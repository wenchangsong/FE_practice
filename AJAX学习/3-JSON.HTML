<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX JSON响应</title>
    <style>
     #result{
            width: 200px;
            height: 100px;
            border:solid 1px red;
        }

    </style>
</head>
<body>
        <div id="result"></div>
        <script>
             const result =document.getElementById('result');

            window.onkeydown = function(){
                const xhr = new XMLHttpRequest();
                xhr.open('GET', 'http://127.0.0.1:8000/server');
                xhr.send();
           
            xhr.onreadystatechange =function(){
                if(xhr.readyState===4){
                    if(xhr.status >=200 && xhr.status < 300){
                        //result.innerHTML =xhr.response;
                        let data = JSON.parse(xhr.response);
                        console.log(data);
                        
                        result.innerHTML=data.name;
                    }
                }
            } }
        </script>
</body>
</html>